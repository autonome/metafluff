<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Restore PSA</title>
    <meta name="description" content="blog de dietrich ayala">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="dietrich">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="dietrich">
  </head>
  <body>
    <header>
      <!--
      <h1 class="home"><a href="/">dietrich</a></h1>
      -->
      <ul class="nav">
        <li class="nav-item">
          <a href="/">dietrich</a>
        </li>
        <li class="nav-item">
          <a href="/posts/">blog</a>
        </li>
        <li class="nav-item">
          <a href="/about/">about</a>
        </li>
        <li class="nav-item">
          <a href="mailto:me@burrito.space" target="_blank">email</a>
        </li>
        <li class="nav-item">
          <a href="https://bsky.app/profile/burrito.space" target="_blank" title="bluesky" rel="me">ðŸ¦‹ bluesky</a>
        </li>
        <li class="nav-item">
          <a href="https://t.me/dietricha" target="_blank" title="telegram" rel="me">telegram</a>
        </li>
        <li class="nav-item">
          <a href="https://github.com/autonome" target="_blank" title="github" rel="me">github</a>
        </li>
        <li class="nav-item">
          <a href="https://www.linkedin.com/in/dietrich" target="_blank" title="linkedin" rel="me">linkedin</a>
        </li>
      </ul>
    </header>

    <main class="tmpl-home">

      <p>Thanks to efforts of many people in the Mozilla community, combined with tools like <a href="http://en.wikipedia.org/wiki/DTrace">DTrace</a>, we seem to be awash in performance data and awareness these days. And in the wonderment of this new visiblity, <a href="http://blog.mozilla.com/rob-sayre/">Rob Sayre</a> and <a href="http://blogs.sun.com/brendan/">Brendan Gregg</a> noticed that <a href="http://wiki.mozilla.org/Session_Restore">Session Restore</a> was responsible for a significant portion of <a href="http://wiki.mozilla.org/Performance:Tinderbox_Tests#Tp.2C_Tp2_and_the_Pageloader_extension:_Page_load_time">page-load</a> time! (/me takes an anxious bow, and dodges the tomatoes)</p>
<p>There are a couple of opportunities for improvement, chronicled <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=398807">here</a>. The first approach we're trying out is to save and restore less back-history for each tab. Easy to implement, but it wasn't the first choice since it decreased the utility of the feature... or so we thought, until <a href="http://blog.mozilla.com/metrics">Alex Polvi</a> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=398807#c45">provided some data</a> indicating that users very rarely go back further than 6 steps.</p>
<p>The change that landed today will reduce saving of back-history to 10 pages, from a default of 50. You can set the browser.sessionstore.max_tab_back_history pref to -1 if you want all tab history restored.</p>
<p>Comment on the bug if you're one of the &lt;1% who go back beyond 10, and are truly disgruntled about this change. Or better yet, fix my patch to cache tab history :)</p>


    </main>

    <footer></footer>

    <!-- Current page: /2008/01/10/session-restore-psa/ -->


    <!-- Fathom - beautiful, simple website analytics -->
    <script src="https://cdn.usefathom.com/3.js" site="EIIOBSXT"></script>
    <!-- / Fathom -->

  </body>
</html>
