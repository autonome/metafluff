<!doctype html>
<html lang="en">
  <head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  	<title>Browser Services Update (TGIF)</title>
  	<meta name="description" content="website de dietrich ayala">
  	<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="dietrich">
  	
  	<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
/* This is an arbitrary CSS string added to the bundle */
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;

	--background-color: #fff;

	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;

	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: #e0e0e0;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #dad8d8;

		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #1493fb;
		--text-color-link-active: #6969f7;
		--text-color-link-visited: #a6a6f8;

		--background-color: #15202b;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

@view-transition {
	navigation: auto;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}
body {
	max-width: 40em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

/* Fluid images via https://www.zachleat.com/web/fluid-images/ */
img{
  max-width: 100%;
}
img[width][height] {
  height: auto;
}
img[src$=".svg"] {
  width: 100%;
  height: auto;
  max-width: none;
}
video,
iframe {
	width: 100%;
	height: auto;
}
iframe {
	aspect-ratio: 16/9;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main,
footer {
	padding: 1rem;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}

.links-nextprev {
	display: flex;
	justify-content: space-between;
	gap: .5em 1em;
	list-style: "";
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}
.links-nextprev > * {
	flex-grow: 1;
}
.links-nextprev-next {
	text-align: right;
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	font-family: var(--font-family-monospace);
}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	overflow-x: auto;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	padding: 1em;
}
.home-link {
	flex-grow: 1;
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	gap: .5em 1em;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
  display: inline-block;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}
/* Customizations */
.nav {
  display: flex;  
  flex-wrap: wrap;
}
.nav-item {
  /*display: inline-block;*/
  /*margin-right: 0.3em;*/
  text-wrap: nowrap;
}

/* Post layout - rehome to post section? */
.post-container {
  display: flex;
  justify-content: center;
}
.post-content {
  max-width: 40rem;
  min-width: 0;
}
.postlist-item:before {
  content: none;
}
.postlist-date {
  margin-right: 0.5em;
}

header {
	border-bottom: none;
}

/* Color mode management */
/*
body {
  color: var(--darkgray);
  background-color: var(--white);
}
a[href] {
  color: var(--blue);
}
a[href]:visited {
  color: var(--navy);
}
.postlist-date,
.postlist-item:before {
  color: var(--darkgray);
}
.post-tag {
  color: var(--darkgray);
  border-color: var(--gray);
}
a[href].post-tag:hover,
a[href].post-tag:focus {
  background-color: var(--lightgray);
}
@media (prefers-color-scheme: dark) {
  body {
    color: var(--text-color);
    background-color: var(--color-gray-90);
  }
  a[href] {
    color: var(--white);
  }
  a[href]:visited {
    color: var(--lightgray);
  }
  .postlist-date,
  .postlist-item:before {
    color: var(--darkgray);
  }
  .post-tag {
    color: var(--darkgray);
    border-color: var(--gray);
  }
  a[href].post-tag:hover,
  a[href].post-tag:focus {
    background-color: var(--lightgray);
  }
}
*/</style>
  </head>
  <body>
  	<a href="#skip" class="visually-hidden">Skip to main content</a>

  	<header>
  		<a href="/" class="nav-item">dietrich</a>
  		<nav>
  			<h2 class="visually-hidden" id="top-level-navigation-menu">Top level navigation menu</h2>
  			<ul class="nav">
  				<li class="nav-item"><a href="/posts/">blog</a></li>
  				<li class="nav-item"><a href="/about/">about</a></li>

          <li class="nav-item">
            <a href="mailto:me@burrito.space" target="_blank">email</a>
          </li>
          <li class="nav-item">
            <a href="https://bsky.app/profile/burrito.space" target="_blank" title="bluesky" rel="me">ü¶ã bluesky</a>
          </li>
          <li class="nav-item">
            <a href="https://signal.me/#eu/JgYm3GJ64TGkbg9r3RHPBeuowAO5eNAoi9kqELN2XGWX6-eJpzdMVbGAmXCy4BvK" target="_blank" title="signal" rel="me">signal</a>
          </li>
          <li class="nav-item">
            <a href="https://discord.com/users/364757227833131011" target="_blank" title="discord" rel="me">discord</a>
          </li>
          <li class="nav-item">
            <a href="https://t.me/dietricha" target="_blank" title="telegram" rel="me">telegram</a>
          </li>
          <li class="nav-item">
            <a href="https://github.com/autonome" target="_blank" title="github" rel="me">github</a>
          </li>
          <li class="nav-item">
            <a href="https://www.linkedin.com/in/dietrich" target="_blank" title="linkedin" rel="me">linkedin</a>
          </li>
  			</ul>

  		</nav>
  	</header>

  	<main id="skip">
  		<heading-anchors>
  			
<h1 id="browser-services-update-tgif">Browser Services Update (TGIF)</h1>

<ul class="post-metadata">
	<li><time datetime="2012-03-03">03 March 2012</time></li>
	<li><a href="/tags/firefox/" class="post-tag">firefox</a>, </li>
	<li><a href="/tags/mozilla/" class="post-tag">mozilla</a></li>
</ul>

<p>My team is &quot;a riddle, wrapped in a mystery, inside an enigma&quot;. Ok, maybe not <em>that</em> mysterious, but we're definitely involved in a variety of projects. Here's a roll-up of a week in browser-land.</p>
<p><strong>Performance</strong></p>
<ul>
<li>
<p>Tim landed a patch that <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=683953">adds reporting of leaked windows and documents to our unit test runs</a>. Dao's work has shown that these often reflect leaks in the platform not just the test, so it's very valuable to know about them. The next step is to track the leak numbers between runs and report regressions by making the tree color change somehow. Tim also <a href="http://timtaubert.de/2012/02/fighting-docshell-and-domwindow-leaks/">blogged about this</a>.</p>
</li>
<li>
<p>Neil has a patch up for adding telemetry that measures <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=710431">how long it takes to open a browser window</a>.</p>
</li>
<li>
<p>Mano continued his work on the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=710259">Safari migrator</a>, which includes various cross-migrator improvements. This work is part of a broader rewrite of the migrators to use Places async APIs, for improved responsiveness.</p>
</li>
<li>
<p>Marco landed <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=613588">a major rewrite of Livemarks</a>, converting them to load content on-demand and asynchronously, reducing synchronous IO on the main thread.</p>
</li>
<li>
<p>Paolo continued his work on <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=713642">rewriting favicon API consumers</a> to use the new asynchronous API.</p>
</li>
<li>
<p>Drew has completed the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=699859">conversion of the content preferences service to use async mozStorage statements</a>, and is in the process of updating the various JS and C++ consumers to use the new API.</p>
</li>
<li>
<p>I talked a bit with Mark Cote about <a href="https://wiki.mozilla.org/Auto-tools/Projects/peptest">Peptest</a>, a new framework for testing browser responsiveness. Peptest is currently available on the tryserver, but results are highly variable, so there's more work to do before it can be turned on for all check-ins. Once Peptest is ready to use, we'll evangelize the crap out of it.</p>
</li>
<li>
<p>I continued working on breaking apart the session restore service into more manageable pieces (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=726235">XPath generator</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=708488">tab state</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=697903">form data</a>).</p>
</li>
<li>
<p>I put up a WIP patch for <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=532150">reading the session file asynchronously</a> during startup.</p>
</li>
<li>
<p>I started working on measuring how much time is taken up by <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=715612">creating about:blank browsers when restoring sessions on demand</a>.
<strong>New Tab Page</strong></p>
</li>
<li>
<p>Tim worked on Stephen Horlander's <a href="http://people.mozilla.com/~shorlander/files/new-tab-prototype-i03/new-tab-prototype-i03.html">redesign of the new-tab page</a>, and also fixed some bugs.
<strong>New Download Manager</strong></p>
</li>
<li>
<p>Paolo <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=726444">consolidated existing patches</a> into a single one for final pass and check-in. Marco has been reviewing.</p>
</li>
<li>
<p>Paolo and Marco are getting together in <a href="http://maps.google.com/maps?oe=utf-8&amp;rls=org.mozilla:en-US:unofficial&amp;client=firefox-nightly&amp;q=novara+italy&amp;um=1&amp;ie=UTF-8&amp;hq=&amp;hnear=0x47865a1ed73beaff:0x405e67d473ca090,Novara,+Italy&amp;gl=us&amp;ei=K19RT9rkGKaoiQLF_Py0Bg&amp;sa=X&amp;oi=geocode_result&amp;ct=image&amp;resnum=2&amp;ved=0CEgQ8gEwAQ">Novara</a> on Saturday to sprint on fixing theme bugs and other cleanup required for landing.
<strong>Add-on SDK Integration</strong></p>
</li>
<li>
<p>Met with Irakli to create plan for landing the core SDK modules in Firefox so that the whole SDK would no longer need to be bundled with every add-on.</p>
</li>
<li>
<p>Created <a href="https://wiki.mozilla.org/Add-on_SDK_in_Firefox">a feature page</a> for tracking the project.</p>
</li>
<li>
<p>I talked with Brian Warner about syncing Git repos with HG repos.
<strong>Web Apps Integration</strong></p>
</li>
<li>
<p>I updated <a href="https://wiki.mozilla.org/Web_Apps_integration">the feature page</a> with latest from UX, Apps and PM.</p>
</li>
<li>
<p>Felipe Gomes is driving the Firefox side of the integration work, with Tim helping out on UI. They're working together with Fabrice, Myk, Dan and Tim A.
<strong>Identity Integration</strong></p>
</li>
<li>
<p>David has the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=440046">window.crypto.getRandomValues patch</a> up for final review and superreview.</p>
</li>
<li>
<p>David put up an initial patch for the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=665057">navigator.id API for Web content</a>.</p>
</li>
<li>
<p>David gets to play with NSS+DOM+XPCOM to get <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=649154">DOMCrypt's internal API working</a>. Lucky guy.
<strong>Share Integration</strong></p>
</li>
<li>
<p>David is working with Shane Caraveo to get the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=727126">new Share add-on reviewed and landed</a>.
<strong>Evangelism/Engagement</strong></p>
</li>
<li>
<p>Tim and Marco kicked off sponsorship process for <a href="http://2012.jsday.it/">Italy's jsDay conference</a>. They'll be putting up a booth there, along with Paolo Amadini, representing Mozilla. Thanks to Stormy and Shez for the support from Developer Engagement.
Of course, we all worked on various other things as well, from code review to bug triage to random maintenance fixes. Activity logs and whatnot are listed below.</p>
</li>
<li>
<p>David Dahl: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=ddahl@mozilla.com">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/ddahl">status updates</a>, <a href="http://monocleglobe.wordpress.com/">blog</a>, <a href="https://twitter.com/#!/deezthugs">Twitter</a></p>
</li>
<li>
<p>Drew Willcoxon: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=adw@mozilla.com">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/drew">status updates</a></p>
</li>
<li>
<p>Felipe Gomes: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=felipc@gmail.com">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/felipe">status updates</a>, <a href="http://felipe.wordpress.com/">blog</a>, <a href="https://twitter.com/#!/felipc">Twitter</a></p>
</li>
<li>
<p>Asaf Romano: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=mano@mozilla.com">Bugzilla activity log</a></p>
</li>
<li>
<p>Marco Bonardo: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=mak77@bonardo.net">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/mak">status updates</a>, <a href="http://blog.bonardo.net/">blog</a>, <a href="https://twitter.com/#!/mak77">Twitter</a></p>
</li>
<li>
<p>Neil Deakin: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=enndeakin@gmail.com">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/Enn">status updates</a>, <a href="https://enndeakin.wordpress.com/">blog</a></p>
</li>
<li>
<p>Paolo Amadini: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=paolo.mozmail@amadzone.org">Bugzilla activity log</a></p>
</li>
<li>
<p>Tim Taubert: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=ttaubert@mozilla.com">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/ttaubert">status updates</a>, <a href="http://timtaubert.de">blog</a>, <a href="https://twitter.com/#!/ttaubert">Twitter</a></p>
</li>
<li>
<p>Dietrich Ayala: <a href="https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&amp;action=run&amp;who=dietrich@mozilla.com">Bugzilla activity log</a>, <a href="http://benjamin.smedbergs.us/weekly-updates.fcgi/user/dietrich">status updates</a>, <a href="http://autonome.wordpress.com">blog</a>, <a href="https://twitter.com/#!/dietrich">Twitter</a></p>
</li>
</ul>

<ul class="links-nextprev"><li class="links-nextprev-prev">‚Üê Previous<br> <a href="/2012/02/03/brussels-warm-hospitality-amidst-inhuman-conditions/">Brussels: Warm Hospitality Amidst Inhuman Conditions</a></li><li class="links-nextprev-next">Next ‚Üí<br><a href="/2012/03/14/firefox-11-is-smaller-and-faster/">Firefox 11 is Smaller and Faster</a></li>
</ul>

  		</heading-anchors>
  	</main>

  	<footer>
  		<p><em>Built with <a href="https://www.11ty.dev/">Eleventy v3.1.2</a></em></p>
  	</footer>

  	<!-- This page `/2012/03/03/browser-services-update-tgif/` was built on 2025-12-29T15:53:37.653Z -->
  	<script type="module" src="/dist/cC8wS6ZjFU.js"></script>

    <!-- Fathom - beautiful, simple website analytics -->
    <script src="https://cdn.usefathom.com/3.js" site="EIIOBSXT"></script>
    <!-- / Fathom -->

  </body>
</html>
