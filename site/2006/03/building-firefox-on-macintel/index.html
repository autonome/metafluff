<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Building Firefox on MacIntel</title>
    <meta name="description" content="Dietrich Ayala is a developer relationist working for internet freedom at Mozilla, the non-profit makers of Firefox." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/custom.css" />

    <meta name="generator" content="Ghost ?" />
<link rel="alternate" type="application/rss+xml" title="Dietrich Ayala" href="/rss/index.xml">
<link rel="canonical" href="/2006/03/building-firefox-on-macintel/" />
</head>
<body class="author-template author- post-template tag-mozilla nav-closed">

    

    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-mozilla">

        <header class="post-header">
            <h1 class="post-title">Building Firefox on MacIntel</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2006-03-08">08 March 2006</time>  on <a href="/tag/mozilla/">mozilla</a>
            </section>
        </header>

        <section class="post-content">
            <p>I got Firefox building on my <a href="http://flickr.com/photos/autonome/106192491/">Macbook</a>! The <a href="http://developer.mozilla.org/en/docs/Mac_OS_X_Universal_Binaries">build instructions</a> on MDC were pretty good, and got me through most of the process. However, there were a few iffy spots. Here are some problems I had, and how I resolved them. Note that this mission was not entirely successful: I wasn&#39;t able to build a universal binary, only an Intel build. I was headed down the rabbit hole trying to track down the PPC errors, and didn&#39;t really need it, so gave up (for now!).</p>
<p>Now that I&#39;m writing this, I wish I&#39;d saved the error messages that I got along the way :P Oh well, here&#39;s what I have, FWIW:</p>
<ul>
<li>XCode Doesn&#39;t install the 10.2.8 SDK: The default Universal build options are to build PPC using the 10.2.8 SDK. XCode 2.2.2 does not install this by default. You can find it in the XCode disk image at /Packages/MacOSX10.2.8.pkg.</li>
<li>GCC Errors: Open a command prompt and just type &quot;gcc&quot;. I got some odd errors about not being able to find a bunch of libraries. I tried again with sudo, and it worked. There&#39;s obviously some permissions wonkiness going on, but I didn&#39;t have time to track it down, so just stuck with sudo-ing it.</li>
<li><p>LibIDL/Libglib: I had to jump through a couple of hoops to get these installed properly. I couldn&#39;t get Fink to compile, so went with DarwinPorts, which worked ok for the most part.</p>
<ul>
<li>Download and compile DarwinPorts from source: <a href="http://darwinports.opendarwin.org/getdp/">link</a>.</li>
<li>Install LibIDL: This will install libglib as well. The port recommended by the build documentation is libidl1. However, I got all kinds of errors when trying to install this port from source. I used libidl, which worked fine: sudo port install libidl</li>
</ul>
</li>
<li>Remove Fink Residue: I migrated from a powerbook which had Fink installed. I has an init script which sets up include dirs and such. This was causing old non-Intel libraries to be included. The source of the problem was a line it added to ~/.bash_profile. Removed this line: test -r /sw/bin/init.sh &amp;&amp; . /sw/bin/init.sh</li>
<li>Disable PPC Build: As I mentioned, I was not able to get the PPC build working. You can disable building PPC by adding this line to your .mozconfig: mk_add_options MOZ_BUILD_PROJECTS=&quot;i386&quot;</li>
</ul>
<p>Thanks to <a href="irc://irc.mozilla.org#camino">#camino</a> for help figuring this out.</p>

        </section>

        <footer class="post-footer">

        <!---->

            <figure class="author-image">
                <a class="img" href="/author//" style="background-image: url(https://en.gravatar.com/userimage/267418/71bda5b5ec91b98ad14f93bcf37098d3.png)"><span class="hidden">Dietrich Ayala's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="/author//">Dietrich Ayala</a></h4>

                    <p>Dietrich Ayala is a developer relationist working for internet freedom at Mozilla, the non-profit makers of Firefox.</p>
                <div class="author-meta">
                    <span class="author-location icon-location"> </span>
                    <span class="author-link icon-link"><a href="http://metafluff.com">http://metafluff.com</a></span>
                </div>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="/">Dietrich Ayala</a> &copy; 2006</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <!--<script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>-->
    <script src="/assets/js/jquery.min.js"></script>
    <!--<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>-->
    <!--<script type="text/javascript" src="/assets/js/index.js"></script>-->

	<script type="text/javascript">
		var _gauges = _gauges || [];
		(function() {
			var t   = document.createElement('script');
			t.type  = 'text/javascript';
			t.async = true;
			t.id    = 'gauges-tracker';
			t.setAttribute('data-site-id', '598429df7218b52c910d4d28');
			t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
			t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(t, s);
		})();
	</script>


<!-- Matomo -->
<script type="text/javascript">
  var _paq = _paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://metafluff.innocraft.cloud/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

	<script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '598429df7218b52c910d4d28');
      t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
      t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>

</body>
</html>
